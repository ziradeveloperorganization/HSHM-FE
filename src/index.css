/* =========================================
   Bootstrap + Ionic Unified Theme Overrides
   Modern Color Palette + Fixed Dark Mode
   ========================================= */

/* === Ionic Color Variables (Light Mode) === */
:root {
  /* Modern Primary (Teal) */
  --ion-color-primary: #0D9488;
  --ion-color-primary-rgb: 13, 148, 136;
  --ion-color-primary-contrast: #ffffff;
  --ion-color-primary-contrast-rgb: 255, 255, 255;
  --ion-color-primary-shade: #0b7f74;
  --ion-color-primary-tint: #26a69a;

  /* Modern Secondary (Indigo) */
  --ion-color-secondary: #6366F1;
  --ion-color-secondary-rgb: 99, 102, 241;
  --ion-color-secondary-contrast: #ffffff;
  --ion-color-secondary-contrast-rgb: 255, 255, 255;
  --ion-color-secondary-shade: #5558d6;
  --ion-color-secondary-tint: #7b7df4;

  /* Accent & Status Colors */
  --ion-color-tertiary: #F97316; /* Orange */
  --ion-color-success: #22C55E;  /* Fresh green */
  --ion-color-warning: #FACC15;  /* Yellow */
  --ion-color-danger: #EF4444;   /* Bright red */
  --ion-color-dark: #1f2937;     /* Neutral dark gray */
  --ion-color-medium: #6b7280;   /* Mid gray */
  --ion-color-light: #f9fafb;    /* Soft off-white */

  /* Light mode background/text */
  --ion-background-color: #ffffff;
  --ion-text-color: #111827;

  /* Bootstrap color mapping */
  --bs-body-bg: var(--ion-background-color);
  --bs-body-color: var(--ion-text-color);
  --bs-primary: var(--ion-color-primary);
  --bs-secondary: var(--ion-color-secondary);
  --bs-success: var(--ion-color-success);
  --bs-danger: var(--ion-color-danger);
  --bs-warning: var(--ion-color-warning);
  --bs-info: var(--ion-color-medium);
}

/* === Dark Mode (Fixed + Modern) === */
html.dark {
  /* Primary + Secondary */
  --ion-color-primary: #2DD4BF;
  --ion-color-primary-shade: #1fb2a1;
  --ion-color-primary-tint: #3ee0cb;

  --ion-color-secondary: #818CF8;
  --ion-color-secondary-shade: #6770e5;
  --ion-color-secondary-tint: #99a2fa;

  /* Accent colors */
  --ion-color-tertiary: #FB923C;
  --ion-color-success: #4ADE80;
  --ion-color-warning: #FDE047;
  --ion-color-danger: #F87171;

  /* Background & text */
  --ion-background-color: #111827; /* Deep slate */
  --ion-text-color: #F9FAFB;       /* White text */

  /* Grays for dark mode */
  --ion-color-dark: #F3F4F6;
  --ion-color-medium: #D1D5DB;
  --ion-color-light: #F9FAFB;

  /* Bootstrap mapping */
  --bs-body-bg: var(--ion-background-color);
  --bs-body-color: var(--ion-text-color);
  --bs-primary: var(--ion-color-primary);
  --bs-secondary: var(--ion-color-secondary);
  --bs-success: var(--ion-color-success);
  --bs-danger: var(--ion-color-danger);
  --bs-warning: var(--ion-color-warning);
  --bs-info: var(--ion-color-medium);
}

/* === Global Text Visibility Fix === */
body,
.text-body,
.main-body,
.card-title,
.card-text,
p,
span,
h1, h2, h3, h4, h5, h6 {
  color: var(--ion-text-color) !important;
}

/* Fix muted text for both modes */
.text-muted {
  color: var(--ion-color-medium) !important;
}

/* === Bootstrap Buttons mapped to Ionic === */
.btn-primary {
  background-color: var(--ion-color-primary) !important;
  border-color: var(--ion-color-primary) !important;
  color: var(--ion-color-primary-contrast) !important;
}
.btn-primary:hover {
  background-color: var(--ion-color-primary-shade) !important;
  border-color: var(--ion-color-primary-shade) !important;
}

.btn-secondary {
  background-color: var(--ion-color-secondary) !important;
  border-color: var(--ion-color-secondary) !important;
  color: var(--ion-color-secondary-contrast) !important;
}
.btn-secondary:hover {
  background-color: var(--ion-color-secondary-shade) !important;
  border-color: var(--ion-color-secondary-shade) !important;
}

/* === Bootstrap Text Colors === */
.text-primary { color: var(--ion-color-primary) !important; }
.text-secondary { color: var(--ion-color-secondary) !important; }

/* === Bootstrap Background Colors === */
.bg-primary {
  background-color: var(--ion-color-primary) !important;
  color: var(--ion-color-primary-contrast) !important;
}
.bg-secondary {
  background-color: var(--ion-color-secondary) !important;
  color: var(--ion-color-secondary-contrast) !important;
}
.bg-body {
  background-color: var(--ion-background-color) !important;
  color: var(--ion-text-color) !important;
}

/* === Main Body Styling === */
.main-body {
  padding: 16px;
  background: var(--ion-background-color);
  color: var(--ion-text-color);
}

/* === Icon Colors === */
ion-button.fill-clear ion-icon {
  color: var(--ion-color-dark) !important;
}
html.dark ion-button.fill-clear ion-icon {
  color: var(--ion-color-light) !important;
}
